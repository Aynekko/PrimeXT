# env_cubemap
Точечная энтити, которая помечает на локации места, в которых будет запечена кубическая карта (кубмапа) - 3D-текстура в виде куба, на каждую грань которого проецируется изображение окружающего пространства. Кубические карты используются для расчета отражений/преломлений на текстурах и воде, а также для расчёта освещения.

## Настройки
- **`Resolution`** - Разрешение текстуры кубической карты (больше разрешение - более четкие отражения и больший расход видеопамяти)

## Создание кубических карт
При загрузке карты, игра автоматически инициирует создание кубмап (возможно, в будущем будет добавлено кэширование созданных кубмап на диск). Но также можно использовать консольную команду `buildcubemaps` для запуска создания кубмап вручную.

## Правильная расстановка
Поместите `env_cubemap` в пространство карты. После запуска карты, поверхности брашей автоматически ассоциируются с ближайшей кубмапой и будут использовать её. Энтити связывают себя с ближайшей к ним кубмапой.Движущиеся объекты будут динамически менять используемую кубическую карту. Важно правильно выбрать позиции кубмап как с точки зрения визуального качества, так и с точки зрения производительности (желательно стараться не создавать слишком много кубмап на локации, если это возможно).  
Кубические карты могут использоваться для разных целей, и поэтому должны размещаться соответствующим образом. Оптимальная расстановка `env_cubemap` соответствует каждому из этих применений, для этого существует несколько правил:
- Если кубическая карта предназначена для NPC или игрока, `env_cubemap` следует размещать на уровне глаз (обычно 64 юнита) над уровнем пола. Таким образом, кубическая карта будет наиболее точно представлять мир с точки зрения игрока.
- Если кубическая карта предназначена для статической геометрии мира, `env_cubemap` должна находиться на приличном расстоянии (как правило, 16 юнитов) от всех брашевых поверхностей.
- В каждой области сильного визуального контраста следует использовать разные кубические карты. Для коридора с ярким желтым светом потребуется собственная карта `env_cubemap`, особенно если он находится рядом с комнатой с низким уровнем синего света. Без двух `env_cubemap` отражения будут казаться неправильными на энтитях и геометрии мира в одной из областей.
- Переходы на локации, такие как комната-комната, комната-улица и другие переходы с большими визуальными изменениями, требуют объектов `env_cubemap` с одинаковым расстоянием относительно точки перехода в обоих местоположениях. Например, при переходе между двумя комнатами, следует поставить кубмапы на расстоянии 16 юнитов от дверного проема в обоих комнатах. Таким образом, переход между кубическими картами будет плавным. Также, это предотвратит отображение на кубической карте внешнего местоположения внутри комнаты и наоборот. 
